{"version":3,"sources":["src/_scripts/node_modules/browser-pack/_prelude.js","src/_scripts/node_modules/detect-browser/index.js","src/_scripts/node_modules/os-browserify/browser.js","src/_scripts/node_modules/process/browser.js","src/_scripts/src/_scripts/main.js"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvLA;;AAEA,IAAM,UAAU,4BAAhB;;AAGA;AACA;AACA;AACA;AACA;;AAEA,SAAS,sBAAT,CAAgC,YAAhC,EAA8C,IAA9C,EAAoD;AAAA;AAAA;AAAA;;AAAA;AAClD,yBAAiB,YAAjB,8HAA+B;AAAA,UAAtB,IAAsB;;AAC7B,UAAI,WAAW,KAAK,OAAL,CAAa,QAA5B;AACA;AACA,UAAI,oBAAoB,SAAS,QAAT,GAAoB,KAApB,GAA4B,GAApD;;AAEA,WAAK,KAAL,CAAW,gBAAX,GAA8B,oBAAkB,GAAlB,IAAuB,MAAI,QAA3B,CAA9B;AACD;AAPiD;AAAA;AAAA;AAAA;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","file":"main.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","/**\n  # detect-browser\n\n  This is a package that attempts to detect a browser vendor and version (in\n  a semver compatible format) using a navigator useragent in a browser or\n  `process.version` in node.\n\n  ## NOTE: Version 2.x release\n\n  Release 2.0 introduces a breaking API change (hence the major release)\n  which requires invocation of a `detect` function rather than just inclusion of\n  the module.  PR [#46](https://github.com/DamonOehlman/detect-browser/pull/46)\n  provides more context as to why this change has been made.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n  Or you can use a switch statement:\n\n  <<< examples/switch.js\n\n  ## Adding additional browser support\n\n  The current list of browsers that can be detected by `detect-browser` is\n  not exhaustive. If you have a browser that you would like to add support for\n  then please submit a pull request with the implementation.\n\n  Creating an acceptable implementation requires two things:\n\n  1. A test demonstrating that the regular expression you have defined identifies\n     your new browser correctly.  Examples of this can be found in the\n     `test/logic.js` file.\n\n  2. Write the actual regex to the `lib/detectBrowser.js` file. In most cases adding\n     the regex to the list of existing regexes will be suitable (if usage of `detect-brower`\n     returns `undefined` for instance), but in some cases you might have to add it before\n     an existing regex.  This would be true for a case where you have a browser that\n     is a specialised variant of an existing browser but is identified as the\n     non-specialised case.\n\n  When writing the regular expression remember that you would write it containing a\n  single [capturing group](https://regexone.com/lesson/capturing_groups) which\n  captures the version number of the browser.\n\n**/\n\nfunction detect() {\n  var nodeVersion = getNodeVersion();\n  if (nodeVersion) {\n    return nodeVersion;\n  } else if (typeof navigator !== 'undefined') {\n    return parseUserAgent(navigator.userAgent);\n  }\n\n  return null;\n}\n\nfunction detectOS(userAgentString) {\n  var rules = getOperatingSystemRules();\n  var detected = rules.filter(function (os) {\n    return os.rule && os.rule.test(userAgentString);\n  })[0];\n\n  return detected ? detected.name : null;\n}\n\nfunction getNodeVersion() {\n  var isNode = typeof navigator === 'undefined' && typeof process !== 'undefined';\n  return isNode ? {\n    name: 'node',\n    version: process.version.slice(1),\n    os: require('os').type().toLowerCase()\n  } : null;\n}\n\nfunction parseUserAgent(userAgentString) {\n  var browsers = getBrowserRules();\n  if (!userAgentString) {\n    return null;\n  }\n\n  var detected = browsers.map(function(browser) {\n    var match = browser.rule.exec(userAgentString);\n    var version = match && match[1].split(/[._]/).slice(0,3);\n\n    if (version && version.length < 3) {\n      version = version.concat(version.length == 1 ? [0, 0] : [0]);\n    }\n\n    return match && {\n      name: browser.name,\n      version: version.join('.')\n    };\n  }).filter(Boolean)[0] || null;\n\n  if (detected) {\n    detected.os = detectOS(userAgentString);\n  }\n\n  return detected;\n}\n\nfunction getBrowserRules() {\n  return buildRules([\n    [ 'aol', /AOLShield\\/([0-9\\._]+)/ ],\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ],\n    [ 'facebook', /FBAV\\/([0-9\\.]+)/],\n    [ 'instagram', /Instagram\\ ([0-9\\.]+)/]\n  ]);\n}\n\nfunction getOperatingSystemRules() {\n  return buildRules([\n    [ 'iOS', /iP(hone|od|ad)/ ],\n    [ 'Android OS', /Android/ ],\n    [ 'BlackBerry OS', /BlackBerry|BB10/ ],\n    [ 'Windows Mobile', /IEMobile/ ],\n    [ 'Amazon OS', /Kindle/ ],\n    [ 'Windows 3.11', /Win16/ ],\n    [ 'Windows 95', /(Windows 95)|(Win95)|(Windows_95)/ ],\n    [ 'Windows 98', /(Windows 98)|(Win98)/ ],\n    [ 'Windows 2000', /(Windows NT 5.0)|(Windows 2000)/ ],\n    [ 'Windows XP', /(Windows NT 5.1)|(Windows XP)/ ],\n    [ 'Windows Server 2003', /(Windows NT 5.2)/ ],\n    [ 'Windows Vista', /(Windows NT 6.0)/ ],\n    [ 'Windows 7', /(Windows NT 6.1)/ ],\n    [ 'Windows 8', /(Windows NT 6.2)/ ],\n    [ 'Windows 8.1', /(Windows NT 6.3)/ ],\n    [ 'Windows 10', /(Windows NT 10.0)/ ],\n    [ 'Windows ME', /Windows ME/ ],\n    [ 'Open BSD', /OpenBSD/ ],\n    [ 'Sun OS', /SunOS/ ],\n    [ 'Linux', /(Linux)|(X11)/ ],\n    [ 'Mac OS', /(Mac_PowerPC)|(Macintosh)/ ],\n    [ 'QNX', /QNX/ ],\n    [ 'BeOS', /BeOS/ ],\n    [ 'OS/2', /OS\\/2/ ],\n    [ 'Search Bot', /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/ ]\n  ]);\n}\n\nfunction buildRules(ruleTuples) {\n  return ruleTuples.map(function(tuple) {\n    return {\n      name: tuple[0],\n      rule: tuple[1]\n    };\n  });\n}\n\nmodule.exports = {\n  detect: detect,\n  detectOS: detectOS,\n  getNodeVersion: getNodeVersion,\n  parseUserAgent: parseUserAgent\n};\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\nimport {detect} from 'detect-browser';\n\nconst browser = detect();\n\n\n// handle the case where we don't detect the browser\n// if (browser) {\n//   console.log(browser.name);\n//   console.log(browser.version);\n// }\n\nfunction startProgressAnimation(progressBars, type) {\n  for (let path of progressBars) {\n    let progress = path.dataset.progress;\n    // let fullLengthSVGPath = path.getTotalLength();\n    let fullLengthSVGPath = type === 'circle' ? 235.2 : 300;\n\n    path.style.strokeDashoffset = fullLengthSVGPath/100*(100-progress);\n  }\n}\n\nfunction resetSVG( progressBars ) {\n  for (let path of progressBars) {\n    let progress = path.dataset.progress;\n    let fullLengthSVGPath = path.getTotalLength();\n    path.style.strokeDasharray = fullLengthSVGPath;\n    path.style.strokeDashoffset = fullLengthSVGPath;\n    //path.style.strokeDashoffset = fullLengthSVGPath/100*(100-progress);\n  }\n}\n\nfunction onSVG( progressBars ) {\n  for (let path of progressBars) {\n    let progress = path.dataset.progress;\n    let fullLengthSVGPath = path.getTotalLength();\n    path.style.transition = 'stroke-dashoffset 1.5s';\n    // path.style.strokeDasharray = -fullLengthSVGPath*2;\n    path.style.strokeDashoffset = fullLengthSVGPath*2;\n  }\n}\n\nfunction startFunctionAnimationOnVisibleObject( object, functionAnimation, param, visiblePercentage ) {\n  const checkVisibleThisContainer = () => {\n    const winHeight = window.innerHeight;\n    const winScrollY = window.scrollY;\n\n    const _object = object;\n    const containerOffsetTop = _object.offsetTop;\n    const containerHeight = _object.getBoundingClientRect().height;\n\n    const offsetTopIncludeStartProgressAnimation = winHeight + winScrollY - containerHeight*(visiblePercentage || 0.5);\n\n    const resultCheckVisibleThisContainer = offsetTopIncludeStartProgressAnimation >= containerOffsetTop;\n\n    if (resultCheckVisibleThisContainer) {\n      functionAnimation(param, 'circle');\n      window.removeEventListener('scroll', checkVisibleThisContainer)\n    }\n  };\n\n  window.addEventListener('scroll', checkVisibleThisContainer );\n\n  checkVisibleThisContainer();\n}\n\nfunction skillClickListener(skills) {\n  let involves = document.querySelectorAll('.software-skills__involve');\n  for (let skill of skills) {\n    skill.addEventListener('click', (e) => {\n      let involveList = e.currentTarget.querySelector('.software-skills__involve');\n      let SVGsWithAnimationInThis = e.currentTarget.querySelectorAll('.line-progress-bar__container [data-progress]');\n      if ( involveList ) {\n        if ( involveList.classList.contains('hidden') ) {\n          for (let involve of involves) {\n            involve.classList.add('hidden');\n          }\n          involveList.classList.remove('hidden');\n          startProgressAnimation(SVGsWithAnimationInThis, 'line');\n        } else {\n          for (let involve of involves) {\n            involve.classList.add('hidden');\n          }\n        }\n      }\n    });\n  }\n}\n\nwindow.onload = () => {\n  let circleProgressBars = document.querySelectorAll('.circle-progress-bar__front');\n  let skills = document.querySelectorAll('.software-skills__skill');\n  let skillsList = document.querySelector('.software-skills__list');\n  let pointers = document.querySelectorAll('[data-name = \"lines-to__line\"]');\n  let pointersId = document.querySelectorAll('#lines-to__line');\n\n  let allSVGpath = document.querySelectorAll('#svg circle, #svg rect, #svg line, #svg path, #svg ellipse, #svg polyline');\n\n  resetSVG(allSVGpath);\n  onSVG( allSVGpath );\n  skillClickListener(skills);\n\n  startFunctionAnimationOnVisibleObject(skillsList, startProgressAnimation, circleProgressBars)\n};\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZGV0ZWN0LWJyb3dzZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvb3MtYnJvd3NlcmlmeS9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsInNyYy9fc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDdkxBOztBQUVBLElBQU0sVUFBVSw0QkFBaEI7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLHNCQUFULENBQWdDLFlBQWhDLEVBQThDLElBQTlDLEVBQW9EO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQ2xELHlCQUFpQixZQUFqQiw4SEFBK0I7QUFBQSxVQUF0QixJQUFzQjs7QUFDN0IsVUFBSSxXQUFXLEtBQUssT0FBTCxDQUFhLFFBQTVCO0FBQ0E7QUFDQSxVQUFJLG9CQUFvQixTQUFTLFFBQVQsR0FBb0IsS0FBcEIsR0FBNEIsR0FBcEQ7O0FBRUEsV0FBSyxLQUFMLENBQVcsZ0JBQVgsR0FBOEIsb0JBQWtCLEdBQWxCLElBQXVCLE1BQUksUUFBM0IsQ0FBOUI7QUFDRDtBQVBpRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUW5EOztBQUVELFNBQVMsUUFBVCxDQUFtQixZQUFuQixFQUFrQztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUNoQywwQkFBaUIsWUFBakIsbUlBQStCO0FBQUEsVUFBdEIsSUFBc0I7O0FBQzdCLFVBQUksV0FBVyxLQUFLLE9BQUwsQ0FBYSxRQUE1QjtBQUNBLFVBQUksb0JBQW9CLEtBQUssY0FBTCxFQUF4QjtBQUNBLFdBQUssS0FBTCxDQUFXLGVBQVgsR0FBNkIsaUJBQTdCO0FBQ0EsV0FBSyxLQUFMLENBQVcsZ0JBQVgsR0FBOEIsaUJBQTlCO0FBQ0E7QUFDRDtBQVArQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUWpDOztBQUVELFNBQVMsS0FBVCxDQUFnQixZQUFoQixFQUErQjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUM3QiwwQkFBaUIsWUFBakIsbUlBQStCO0FBQUEsVUFBdEIsSUFBc0I7O0FBQzdCLFVBQUksV0FBVyxLQUFLLE9BQUwsQ0FBYSxRQUE1QjtBQUNBLFVBQUksb0JBQW9CLEtBQUssY0FBTCxFQUF4QjtBQUNBLFdBQUssS0FBTCxDQUFXLFVBQVgsR0FBd0Isd0JBQXhCO0FBQ0E7QUFDQSxXQUFLLEtBQUwsQ0FBVyxnQkFBWCxHQUE4QixvQkFBa0IsQ0FBaEQ7QUFDRDtBQVA0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUTlCOztBQUVELFNBQVMscUNBQVQsQ0FBZ0QsTUFBaEQsRUFBd0QsaUJBQXhELEVBQTJFLEtBQTNFLEVBQWtGLGlCQUFsRixFQUFzRztBQUNwRyxNQUFNLDRCQUE0QixTQUE1Qix5QkFBNEIsR0FBTTtBQUN0QyxRQUFNLFlBQVksT0FBTyxXQUF6QjtBQUNBLFFBQU0sYUFBYSxPQUFPLE9BQTFCOztBQUVBLFFBQU0sVUFBVSxNQUFoQjtBQUNBLFFBQU0scUJBQXFCLFFBQVEsU0FBbkM7QUFDQSxRQUFNLGtCQUFrQixRQUFRLHFCQUFSLEdBQWdDLE1BQXhEOztBQUVBLFFBQU0seUNBQXlDLFlBQVksVUFBWixHQUF5QixtQkFBaUIscUJBQXFCLEdBQXRDLENBQXhFOztBQUVBLFFBQU0sa0NBQWtDLDBDQUEwQyxrQkFBbEY7O0FBRUEsUUFBSSwrQkFBSixFQUFxQztBQUNuQyx3QkFBa0IsS0FBbEIsRUFBeUIsUUFBekI7QUFDQSxhQUFPLG1CQUFQLENBQTJCLFFBQTNCLEVBQXFDLHlCQUFyQztBQUNEO0FBQ0YsR0FoQkQ7O0FBa0JBLFNBQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MseUJBQWxDOztBQUVBO0FBQ0Q7O0FBRUQsU0FBUyxrQkFBVCxDQUE0QixNQUE1QixFQUFvQztBQUNsQyxNQUFJLFdBQVcsU0FBUyxnQkFBVCxDQUEwQiwyQkFBMUIsQ0FBZjtBQURrQztBQUFBO0FBQUE7O0FBQUE7QUFFbEMsMEJBQWtCLE1BQWxCLG1JQUEwQjtBQUFBLFVBQWpCLEtBQWlCOztBQUN4QixZQUFNLGdCQUFOLENBQXVCLE9BQXZCLEVBQWdDLFVBQUMsQ0FBRCxFQUFPO0FBQ3JDLFlBQUksY0FBYyxFQUFFLGFBQUYsQ0FBZ0IsYUFBaEIsQ0FBOEIsMkJBQTlCLENBQWxCO0FBQ0EsWUFBSSwwQkFBMEIsRUFBRSxhQUFGLENBQWdCLGdCQUFoQixDQUFpQywrQ0FBakMsQ0FBOUI7QUFDQSxZQUFLLFdBQUwsRUFBbUI7QUFDakIsY0FBSyxZQUFZLFNBQVosQ0FBc0IsUUFBdEIsQ0FBK0IsUUFBL0IsQ0FBTCxFQUFnRDtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUM5QyxvQ0FBb0IsUUFBcEIsbUlBQThCO0FBQUEsb0JBQXJCLE9BQXFCOztBQUM1Qix3QkFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLFFBQXRCO0FBQ0Q7QUFINkM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFJOUMsd0JBQVksU0FBWixDQUFzQixNQUF0QixDQUE2QixRQUE3QjtBQUNBLG1DQUF1Qix1QkFBdkIsRUFBZ0QsTUFBaEQ7QUFDRCxXQU5ELE1BTU87QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFDTCxvQ0FBb0IsUUFBcEIsbUlBQThCO0FBQUEsb0JBQXJCLFFBQXFCOztBQUM1Qix5QkFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLFFBQXRCO0FBQ0Q7QUFISTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSU47QUFDRjtBQUNGLE9BaEJEO0FBaUJEO0FBcEJpQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBcUJuQzs7QUFFRCxPQUFPLE1BQVAsR0FBZ0IsWUFBTTtBQUNwQixNQUFJLHFCQUFxQixTQUFTLGdCQUFULENBQTBCLDZCQUExQixDQUF6QjtBQUNBLE1BQUksU0FBUyxTQUFTLGdCQUFULENBQTBCLHlCQUExQixDQUFiO0FBQ0EsTUFBSSxhQUFhLFNBQVMsYUFBVCxDQUF1Qix3QkFBdkIsQ0FBakI7QUFDQSxNQUFJLFdBQVcsU0FBUyxnQkFBVCxDQUEwQixnQ0FBMUIsQ0FBZjtBQUNBLE1BQUksYUFBYSxTQUFTLGdCQUFULENBQTBCLGlCQUExQixDQUFqQjs7QUFFQSxNQUFJLGFBQWEsU0FBUyxnQkFBVCxDQUEwQiwyRUFBMUIsQ0FBakI7O0FBRUEsV0FBUyxVQUFUO0FBQ0EsUUFBTyxVQUFQO0FBQ0EscUJBQW1CLE1BQW5COztBQUVBLHdDQUFzQyxVQUF0QyxFQUFrRCxzQkFBbEQsRUFBMEUsa0JBQTFFO0FBQ0QsQ0FkRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9cmV0dXJuIGV9KSgpIiwiLyoqXG4gICMgZGV0ZWN0LWJyb3dzZXJcblxuICBUaGlzIGlzIGEgcGFja2FnZSB0aGF0IGF0dGVtcHRzIHRvIGRldGVjdCBhIGJyb3dzZXIgdmVuZG9yIGFuZCB2ZXJzaW9uIChpblxuICBhIHNlbXZlciBjb21wYXRpYmxlIGZvcm1hdCkgdXNpbmcgYSBuYXZpZ2F0b3IgdXNlcmFnZW50IGluIGEgYnJvd3NlciBvclxuICBgcHJvY2Vzcy52ZXJzaW9uYCBpbiBub2RlLlxuXG4gICMjIE5PVEU6IFZlcnNpb24gMi54IHJlbGVhc2VcblxuICBSZWxlYXNlIDIuMCBpbnRyb2R1Y2VzIGEgYnJlYWtpbmcgQVBJIGNoYW5nZSAoaGVuY2UgdGhlIG1ham9yIHJlbGVhc2UpXG4gIHdoaWNoIHJlcXVpcmVzIGludm9jYXRpb24gb2YgYSBgZGV0ZWN0YCBmdW5jdGlvbiByYXRoZXIgdGhhbiBqdXN0IGluY2x1c2lvbiBvZlxuICB0aGUgbW9kdWxlLiAgUFIgWyM0Nl0oaHR0cHM6Ly9naXRodWIuY29tL0RhbW9uT2VobG1hbi9kZXRlY3QtYnJvd3Nlci9wdWxsLzQ2KVxuICBwcm92aWRlcyBtb3JlIGNvbnRleHQgYXMgdG8gd2h5IHRoaXMgY2hhbmdlIGhhcyBiZWVuIG1hZGUuXG5cbiAgIyMgRXhhbXBsZSBVc2FnZVxuXG4gIDw8PCBleGFtcGxlcy9zaW1wbGUuanNcblxuICBPciB5b3UgY2FuIHVzZSBhIHN3aXRjaCBzdGF0ZW1lbnQ6XG5cbiAgPDw8IGV4YW1wbGVzL3N3aXRjaC5qc1xuXG4gICMjIEFkZGluZyBhZGRpdGlvbmFsIGJyb3dzZXIgc3VwcG9ydFxuXG4gIFRoZSBjdXJyZW50IGxpc3Qgb2YgYnJvd3NlcnMgdGhhdCBjYW4gYmUgZGV0ZWN0ZWQgYnkgYGRldGVjdC1icm93c2VyYCBpc1xuICBub3QgZXhoYXVzdGl2ZS4gSWYgeW91IGhhdmUgYSBicm93c2VyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gYWRkIHN1cHBvcnQgZm9yXG4gIHRoZW4gcGxlYXNlIHN1Ym1pdCBhIHB1bGwgcmVxdWVzdCB3aXRoIHRoZSBpbXBsZW1lbnRhdGlvbi5cblxuICBDcmVhdGluZyBhbiBhY2NlcHRhYmxlIGltcGxlbWVudGF0aW9uIHJlcXVpcmVzIHR3byB0aGluZ3M6XG5cbiAgMS4gQSB0ZXN0IGRlbW9uc3RyYXRpbmcgdGhhdCB0aGUgcmVndWxhciBleHByZXNzaW9uIHlvdSBoYXZlIGRlZmluZWQgaWRlbnRpZmllc1xuICAgICB5b3VyIG5ldyBicm93c2VyIGNvcnJlY3RseS4gIEV4YW1wbGVzIG9mIHRoaXMgY2FuIGJlIGZvdW5kIGluIHRoZVxuICAgICBgdGVzdC9sb2dpYy5qc2AgZmlsZS5cblxuICAyLiBXcml0ZSB0aGUgYWN0dWFsIHJlZ2V4IHRvIHRoZSBgbGliL2RldGVjdEJyb3dzZXIuanNgIGZpbGUuIEluIG1vc3QgY2FzZXMgYWRkaW5nXG4gICAgIHRoZSByZWdleCB0byB0aGUgbGlzdCBvZiBleGlzdGluZyByZWdleGVzIHdpbGwgYmUgc3VpdGFibGUgKGlmIHVzYWdlIG9mIGBkZXRlY3QtYnJvd2VyYFxuICAgICByZXR1cm5zIGB1bmRlZmluZWRgIGZvciBpbnN0YW5jZSksIGJ1dCBpbiBzb21lIGNhc2VzIHlvdSBtaWdodCBoYXZlIHRvIGFkZCBpdCBiZWZvcmVcbiAgICAgYW4gZXhpc3RpbmcgcmVnZXguICBUaGlzIHdvdWxkIGJlIHRydWUgZm9yIGEgY2FzZSB3aGVyZSB5b3UgaGF2ZSBhIGJyb3dzZXIgdGhhdFxuICAgICBpcyBhIHNwZWNpYWxpc2VkIHZhcmlhbnQgb2YgYW4gZXhpc3RpbmcgYnJvd3NlciBidXQgaXMgaWRlbnRpZmllZCBhcyB0aGVcbiAgICAgbm9uLXNwZWNpYWxpc2VkIGNhc2UuXG5cbiAgV2hlbiB3cml0aW5nIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gcmVtZW1iZXIgdGhhdCB5b3Ugd291bGQgd3JpdGUgaXQgY29udGFpbmluZyBhXG4gIHNpbmdsZSBbY2FwdHVyaW5nIGdyb3VwXShodHRwczovL3JlZ2V4b25lLmNvbS9sZXNzb24vY2FwdHVyaW5nX2dyb3Vwcykgd2hpY2hcbiAgY2FwdHVyZXMgdGhlIHZlcnNpb24gbnVtYmVyIG9mIHRoZSBicm93c2VyLlxuXG4qKi9cblxuZnVuY3Rpb24gZGV0ZWN0KCkge1xuICB2YXIgbm9kZVZlcnNpb24gPSBnZXROb2RlVmVyc2lvbigpO1xuICBpZiAobm9kZVZlcnNpb24pIHtcbiAgICByZXR1cm4gbm9kZVZlcnNpb247XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gcGFyc2VVc2VyQWdlbnQobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGV0ZWN0T1ModXNlckFnZW50U3RyaW5nKSB7XG4gIHZhciBydWxlcyA9IGdldE9wZXJhdGluZ1N5c3RlbVJ1bGVzKCk7XG4gIHZhciBkZXRlY3RlZCA9IHJ1bGVzLmZpbHRlcihmdW5jdGlvbiAob3MpIHtcbiAgICByZXR1cm4gb3MucnVsZSAmJiBvcy5ydWxlLnRlc3QodXNlckFnZW50U3RyaW5nKTtcbiAgfSlbMF07XG5cbiAgcmV0dXJuIGRldGVjdGVkID8gZGV0ZWN0ZWQubmFtZSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldE5vZGVWZXJzaW9uKCkge1xuICB2YXIgaXNOb2RlID0gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnO1xuICByZXR1cm4gaXNOb2RlID8ge1xuICAgIG5hbWU6ICdub2RlJyxcbiAgICB2ZXJzaW9uOiBwcm9jZXNzLnZlcnNpb24uc2xpY2UoMSksXG4gICAgb3M6IHJlcXVpcmUoJ29zJykudHlwZSgpLnRvTG93ZXJDYXNlKClcbiAgfSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVzZXJBZ2VudFN0cmluZykge1xuICB2YXIgYnJvd3NlcnMgPSBnZXRCcm93c2VyUnVsZXMoKTtcbiAgaWYgKCF1c2VyQWdlbnRTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBkZXRlY3RlZCA9IGJyb3dzZXJzLm1hcChmdW5jdGlvbihicm93c2VyKSB7XG4gICAgdmFyIG1hdGNoID0gYnJvd3Nlci5ydWxlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICB2YXIgdmVyc2lvbiA9IG1hdGNoICYmIG1hdGNoWzFdLnNwbGl0KC9bLl9dLykuc2xpY2UoMCwzKTtcblxuICAgIGlmICh2ZXJzaW9uICYmIHZlcnNpb24ubGVuZ3RoIDwgMykge1xuICAgICAgdmVyc2lvbiA9IHZlcnNpb24uY29uY2F0KHZlcnNpb24ubGVuZ3RoID09IDEgPyBbMCwgMF0gOiBbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaCAmJiB7XG4gICAgICBuYW1lOiBicm93c2VyLm5hbWUsXG4gICAgICB2ZXJzaW9uOiB2ZXJzaW9uLmpvaW4oJy4nKVxuICAgIH07XG4gIH0pLmZpbHRlcihCb29sZWFuKVswXSB8fCBudWxsO1xuXG4gIGlmIChkZXRlY3RlZCkge1xuICAgIGRldGVjdGVkLm9zID0gZGV0ZWN0T1ModXNlckFnZW50U3RyaW5nKTtcbiAgfVxuXG4gIHJldHVybiBkZXRlY3RlZDtcbn1cblxuZnVuY3Rpb24gZ2V0QnJvd3NlclJ1bGVzKCkge1xuICByZXR1cm4gYnVpbGRSdWxlcyhbXG4gICAgWyAnYW9sJywgL0FPTFNoaWVsZFxcLyhbMC05XFwuX10rKS8gXSxcbiAgICBbICdlZGdlJywgL0VkZ2VcXC8oWzAtOVxcLl9dKykvIF0sXG4gICAgWyAneWFuZGV4YnJvd3NlcicsIC9ZYUJyb3dzZXJcXC8oWzAtOVxcLl9dKykvIF0sXG4gICAgWyAndml2YWxkaScsIC9WaXZhbGRpXFwvKFswLTlcXC5dKykvIF0sXG4gICAgWyAna2FrYW90YWxrJywgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspLyBdLFxuICAgIFsgJ2Nocm9tZScsIC8oPyFDaHJvbS4qT1BSKUNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvIF0sXG4gICAgWyAncGhhbnRvbWpzJywgL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpLyBdLFxuICAgIFsgJ2NyaW9zJywgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvIF0sXG4gICAgWyAnZmlyZWZveCcsIC9GaXJlZm94XFwvKFswLTlcXC5dKykoPzpcXHN8JCkvIF0sXG4gICAgWyAnZnhpb3MnLCAvRnhpT1NcXC8oWzAtOVxcLl0rKS8gXSxcbiAgICBbICdvcGVyYScsIC9PcGVyYVxcLyhbMC05XFwuXSspKD86XFxzfCQpLyBdLFxuICAgIFsgJ29wZXJhJywgL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpJC8gXSxcbiAgICBbICdpZScsIC9UcmlkZW50XFwvN1xcLjAuKnJ2XFw6KFswLTlcXC5dKykuKlxcKS4qR2Vja28kLyBdLFxuICAgIFsgJ2llJywgL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wLyBdLFxuICAgIFsgJ2llJywgL01TSUVcXHMoN1xcLjApLyBdLFxuICAgIFsgJ2JiMTAnLCAvQkIxMDtcXHNUb3VjaC4qVmVyc2lvblxcLyhbMC05XFwuXSspLyBdLFxuICAgIFsgJ2FuZHJvaWQnLCAvQW5kcm9pZFxccyhbMC05XFwuXSspLyBdLFxuICAgIFsgJ2lvcycsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipNb2JpbGUuKlNhZmFyaS4qLyBdLFxuICAgIFsgJ3NhZmFyaScsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipTYWZhcmkvIF0sXG4gICAgWyAnZmFjZWJvb2snLCAvRkJBVlxcLyhbMC05XFwuXSspL10sXG4gICAgWyAnaW5zdGFncmFtJywgL0luc3RhZ3JhbVxcIChbMC05XFwuXSspL11cbiAgXSk7XG59XG5cbmZ1bmN0aW9uIGdldE9wZXJhdGluZ1N5c3RlbVJ1bGVzKCkge1xuICByZXR1cm4gYnVpbGRSdWxlcyhbXG4gICAgWyAnaU9TJywgL2lQKGhvbmV8b2R8YWQpLyBdLFxuICAgIFsgJ0FuZHJvaWQgT1MnLCAvQW5kcm9pZC8gXSxcbiAgICBbICdCbGFja0JlcnJ5IE9TJywgL0JsYWNrQmVycnl8QkIxMC8gXSxcbiAgICBbICdXaW5kb3dzIE1vYmlsZScsIC9JRU1vYmlsZS8gXSxcbiAgICBbICdBbWF6b24gT1MnLCAvS2luZGxlLyBdLFxuICAgIFsgJ1dpbmRvd3MgMy4xMScsIC9XaW4xNi8gXSxcbiAgICBbICdXaW5kb3dzIDk1JywgLyhXaW5kb3dzIDk1KXwoV2luOTUpfChXaW5kb3dzXzk1KS8gXSxcbiAgICBbICdXaW5kb3dzIDk4JywgLyhXaW5kb3dzIDk4KXwoV2luOTgpLyBdLFxuICAgIFsgJ1dpbmRvd3MgMjAwMCcsIC8oV2luZG93cyBOVCA1LjApfChXaW5kb3dzIDIwMDApLyBdLFxuICAgIFsgJ1dpbmRvd3MgWFAnLCAvKFdpbmRvd3MgTlQgNS4xKXwoV2luZG93cyBYUCkvIF0sXG4gICAgWyAnV2luZG93cyBTZXJ2ZXIgMjAwMycsIC8oV2luZG93cyBOVCA1LjIpLyBdLFxuICAgIFsgJ1dpbmRvd3MgVmlzdGEnLCAvKFdpbmRvd3MgTlQgNi4wKS8gXSxcbiAgICBbICdXaW5kb3dzIDcnLCAvKFdpbmRvd3MgTlQgNi4xKS8gXSxcbiAgICBbICdXaW5kb3dzIDgnLCAvKFdpbmRvd3MgTlQgNi4yKS8gXSxcbiAgICBbICdXaW5kb3dzIDguMScsIC8oV2luZG93cyBOVCA2LjMpLyBdLFxuICAgIFsgJ1dpbmRvd3MgMTAnLCAvKFdpbmRvd3MgTlQgMTAuMCkvIF0sXG4gICAgWyAnV2luZG93cyBNRScsIC9XaW5kb3dzIE1FLyBdLFxuICAgIFsgJ09wZW4gQlNEJywgL09wZW5CU0QvIF0sXG4gICAgWyAnU3VuIE9TJywgL1N1bk9TLyBdLFxuICAgIFsgJ0xpbnV4JywgLyhMaW51eCl8KFgxMSkvIF0sXG4gICAgWyAnTWFjIE9TJywgLyhNYWNfUG93ZXJQQyl8KE1hY2ludG9zaCkvIF0sXG4gICAgWyAnUU5YJywgL1FOWC8gXSxcbiAgICBbICdCZU9TJywgL0JlT1MvIF0sXG4gICAgWyAnT1MvMicsIC9PU1xcLzIvIF0sXG4gICAgWyAnU2VhcmNoIEJvdCcsIC8obnVoayl8KEdvb2dsZWJvdCl8KFlhbW15Ym90KXwoT3BlbmJvdCl8KFNsdXJwKXwoTVNOQm90KXwoQXNrIEplZXZlc1xcL1Rlb21hKXwoaWFfYXJjaGl2ZXIpLyBdXG4gIF0pO1xufVxuXG5mdW5jdGlvbiBidWlsZFJ1bGVzKHJ1bGVUdXBsZXMpIHtcbiAgcmV0dXJuIHJ1bGVUdXBsZXMubWFwKGZ1bmN0aW9uKHR1cGxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHR1cGxlWzBdLFxuICAgICAgcnVsZTogdHVwbGVbMV1cbiAgICB9O1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRldGVjdDogZGV0ZWN0LFxuICBkZXRlY3RPUzogZGV0ZWN0T1MsXG4gIGdldE5vZGVWZXJzaW9uOiBnZXROb2RlVmVyc2lvbixcbiAgcGFyc2VVc2VyQWdlbnQ6IHBhcnNlVXNlckFnZW50XG59O1xuIiwiZXhwb3J0cy5lbmRpYW5uZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0xFJyB9O1xuXG5leHBvcnRzLmhvc3RuYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZVxuICAgIH1cbiAgICBlbHNlIHJldHVybiAnJztcbn07XG5cbmV4cG9ydHMubG9hZGF2ZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH07XG5cbmV4cG9ydHMudXB0aW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xuXG5leHBvcnRzLmZyZWVtZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XG59O1xuXG5leHBvcnRzLnRvdGFsbWVtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuZXhwb3J0cy5jcHVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW10gfTtcblxuZXhwb3J0cy50eXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0Jyb3dzZXInIH07XG5cbmV4cG9ydHMucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5hcHBWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnRzLm5ldHdvcmtJbnRlcmZhY2VzXG49IGV4cG9ydHMuZ2V0TmV0d29ya0ludGVyZmFjZXNcbj0gZnVuY3Rpb24gKCkgeyByZXR1cm4ge30gfTtcblxuZXhwb3J0cy5hcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2phdmFzY3JpcHQnIH07XG5cbmV4cG9ydHMucGxhdGZvcm0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnYnJvd3NlcicgfTtcblxuZXhwb3J0cy50bXBkaXIgPSBleHBvcnRzLnRtcERpciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJy90bXAnO1xufTtcblxuZXhwb3J0cy5FT0wgPSAnXFxuJztcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJcbmltcG9ydCB7ZGV0ZWN0fSBmcm9tICdkZXRlY3QtYnJvd3Nlcic7XG5cbmNvbnN0IGJyb3dzZXIgPSBkZXRlY3QoKTtcblxuXG4vLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgZG9uJ3QgZGV0ZWN0IHRoZSBicm93c2VyXG4vLyBpZiAoYnJvd3Nlcikge1xuLy8gICBjb25zb2xlLmxvZyhicm93c2VyLm5hbWUpO1xuLy8gICBjb25zb2xlLmxvZyhicm93c2VyLnZlcnNpb24pO1xuLy8gfVxuXG5mdW5jdGlvbiBzdGFydFByb2dyZXNzQW5pbWF0aW9uKHByb2dyZXNzQmFycywgdHlwZSkge1xuICBmb3IgKGxldCBwYXRoIG9mIHByb2dyZXNzQmFycykge1xuICAgIGxldCBwcm9ncmVzcyA9IHBhdGguZGF0YXNldC5wcm9ncmVzcztcbiAgICAvLyBsZXQgZnVsbExlbmd0aFNWR1BhdGggPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgbGV0IGZ1bGxMZW5ndGhTVkdQYXRoID0gdHlwZSA9PT0gJ2NpcmNsZScgPyAyMzUuMiA6IDMwMDtcblxuICAgIHBhdGguc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IGZ1bGxMZW5ndGhTVkdQYXRoLzEwMCooMTAwLXByb2dyZXNzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXNldFNWRyggcHJvZ3Jlc3NCYXJzICkge1xuICBmb3IgKGxldCBwYXRoIG9mIHByb2dyZXNzQmFycykge1xuICAgIGxldCBwcm9ncmVzcyA9IHBhdGguZGF0YXNldC5wcm9ncmVzcztcbiAgICBsZXQgZnVsbExlbmd0aFNWR1BhdGggPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgcGF0aC5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSBmdWxsTGVuZ3RoU1ZHUGF0aDtcbiAgICBwYXRoLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSBmdWxsTGVuZ3RoU1ZHUGF0aDtcbiAgICAvL3BhdGguc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IGZ1bGxMZW5ndGhTVkdQYXRoLzEwMCooMTAwLXByb2dyZXNzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblNWRyggcHJvZ3Jlc3NCYXJzICkge1xuICBmb3IgKGxldCBwYXRoIG9mIHByb2dyZXNzQmFycykge1xuICAgIGxldCBwcm9ncmVzcyA9IHBhdGguZGF0YXNldC5wcm9ncmVzcztcbiAgICBsZXQgZnVsbExlbmd0aFNWR1BhdGggPSBwYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgcGF0aC5zdHlsZS50cmFuc2l0aW9uID0gJ3N0cm9rZS1kYXNob2Zmc2V0IDEuNXMnO1xuICAgIC8vIHBhdGguc3R5bGUuc3Ryb2tlRGFzaGFycmF5ID0gLWZ1bGxMZW5ndGhTVkdQYXRoKjI7XG4gICAgcGF0aC5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gZnVsbExlbmd0aFNWR1BhdGgqMjtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydEZ1bmN0aW9uQW5pbWF0aW9uT25WaXNpYmxlT2JqZWN0KCBvYmplY3QsIGZ1bmN0aW9uQW5pbWF0aW9uLCBwYXJhbSwgdmlzaWJsZVBlcmNlbnRhZ2UgKSB7XG4gIGNvbnN0IGNoZWNrVmlzaWJsZVRoaXNDb250YWluZXIgPSAoKSA9PiB7XG4gICAgY29uc3Qgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IHdpblNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcblxuICAgIGNvbnN0IF9vYmplY3QgPSBvYmplY3Q7XG4gICAgY29uc3QgY29udGFpbmVyT2Zmc2V0VG9wID0gX29iamVjdC5vZmZzZXRUb3A7XG4gICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gX29iamVjdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cbiAgICBjb25zdCBvZmZzZXRUb3BJbmNsdWRlU3RhcnRQcm9ncmVzc0FuaW1hdGlvbiA9IHdpbkhlaWdodCArIHdpblNjcm9sbFkgLSBjb250YWluZXJIZWlnaHQqKHZpc2libGVQZXJjZW50YWdlIHx8IDAuNSk7XG5cbiAgICBjb25zdCByZXN1bHRDaGVja1Zpc2libGVUaGlzQ29udGFpbmVyID0gb2Zmc2V0VG9wSW5jbHVkZVN0YXJ0UHJvZ3Jlc3NBbmltYXRpb24gPj0gY29udGFpbmVyT2Zmc2V0VG9wO1xuXG4gICAgaWYgKHJlc3VsdENoZWNrVmlzaWJsZVRoaXNDb250YWluZXIpIHtcbiAgICAgIGZ1bmN0aW9uQW5pbWF0aW9uKHBhcmFtLCAnY2lyY2xlJyk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2hlY2tWaXNpYmxlVGhpc0NvbnRhaW5lcilcbiAgICB9XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNoZWNrVmlzaWJsZVRoaXNDb250YWluZXIgKTtcblxuICBjaGVja1Zpc2libGVUaGlzQ29udGFpbmVyKCk7XG59XG5cbmZ1bmN0aW9uIHNraWxsQ2xpY2tMaXN0ZW5lcihza2lsbHMpIHtcbiAgbGV0IGludm9sdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNvZnR3YXJlLXNraWxsc19faW52b2x2ZScpO1xuICBmb3IgKGxldCBza2lsbCBvZiBza2lsbHMpIHtcbiAgICBza2lsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBsZXQgaW52b2x2ZUxpc3QgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLnNvZnR3YXJlLXNraWxsc19faW52b2x2ZScpO1xuICAgICAgbGV0IFNWR3NXaXRoQW5pbWF0aW9uSW5UaGlzID0gZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saW5lLXByb2dyZXNzLWJhcl9fY29udGFpbmVyIFtkYXRhLXByb2dyZXNzXScpO1xuICAgICAgaWYgKCBpbnZvbHZlTGlzdCApIHtcbiAgICAgICAgaWYgKCBpbnZvbHZlTGlzdC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpICkge1xuICAgICAgICAgIGZvciAobGV0IGludm9sdmUgb2YgaW52b2x2ZXMpIHtcbiAgICAgICAgICAgIGludm9sdmUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGludm9sdmVMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHN0YXJ0UHJvZ3Jlc3NBbmltYXRpb24oU1ZHc1dpdGhBbmltYXRpb25JblRoaXMsICdsaW5lJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaW52b2x2ZSBvZiBpbnZvbHZlcykge1xuICAgICAgICAgICAgaW52b2x2ZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBsZXQgY2lyY2xlUHJvZ3Jlc3NCYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNpcmNsZS1wcm9ncmVzcy1iYXJfX2Zyb250Jyk7XG4gIGxldCBza2lsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc29mdHdhcmUtc2tpbGxzX19za2lsbCcpO1xuICBsZXQgc2tpbGxzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb2Z0d2FyZS1za2lsbHNfX2xpc3QnKTtcbiAgbGV0IHBvaW50ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbmFtZSA9IFwibGluZXMtdG9fX2xpbmVcIl0nKTtcbiAgbGV0IHBvaW50ZXJzSWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbGluZXMtdG9fX2xpbmUnKTtcblxuICBsZXQgYWxsU1ZHcGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzdmcgY2lyY2xlLCAjc3ZnIHJlY3QsICNzdmcgbGluZSwgI3N2ZyBwYXRoLCAjc3ZnIGVsbGlwc2UsICNzdmcgcG9seWxpbmUnKTtcblxuICByZXNldFNWRyhhbGxTVkdwYXRoKTtcbiAgb25TVkcoIGFsbFNWR3BhdGggKTtcbiAgc2tpbGxDbGlja0xpc3RlbmVyKHNraWxscyk7XG5cbiAgc3RhcnRGdW5jdGlvbkFuaW1hdGlvbk9uVmlzaWJsZU9iamVjdChza2lsbHNMaXN0LCBzdGFydFByb2dyZXNzQW5pbWF0aW9uLCBjaXJjbGVQcm9ncmVzc0JhcnMpXG59O1xuIl19"}