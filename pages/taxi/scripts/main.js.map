{"version":3,"sources":["src/_scripts/node_modules/browser-pack/_prelude.js","src/_scripts/src/_scripts/main.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n'use strict';\n\n\n\nymaps.ready(init);\n\nfunction init() {\n\t// Формирование цены\n\t\t// Цена за 1 км\n\tvar\tprice_for_km = 0.5,\n\t\t// Цена посадки\n\t\tprice_car = 1.5,\n\t\t// Длинна маршрута\n\t\tlengthRoute = 0,\n\t\t// Время в пути\n\t\ttimeRoute = 0;\n\n\n\t// Телефон\n\n\t\t// Поле ввода телефонного номера\n\tvar\t$inputForMask = $('#phone'),\n\t\t// Валидность введенного номера\n\t\tphoveValid = false;\n\n\t// Применение маски к полю ввода телефона\n\t$($inputForMask).inputmask({\n\t\tmask : \"+375(99)999-99-99\",\n\t\t// При полном вводе\n\t\toncomplete : function() {\n\t\t\tphoveValid = true;\n\t\t\tif (checkForRouteEntry($routeAddressesInput)) {\n\t\t\t\tsubmitActive();\n\t\t\t}\n\t\t},\n\t\t// При не полном вводе\n\t\tonincomplete : function() {\n\t\t\tphoveValid= false;\n\t\t\tsubmitUnActive();\n\t\t},\n\t\t// При удалении из номера одного и более значений\n\t\tcanClearPosition : function() {\n\t\t\tphoveValid= false;\n\t\t\tsubmitUnActive();\n\t\t}\n\t});\n\t// Конец - Телефон\n\n\n\n\t\t// Переменная содержащая форму ввода маршрута\n\tvar\tform,\n\t\t// Переменная содержащая экземпляр Якарты\n\t\tmyMap,\n\t\t// Коллекция геообъектов.\n\t\tthisGeoObjectCollection,\n\t\t// Массив инпутов с адресами маршрута\n\t\t$routeAddressesInput = [],\n\t\t// Массив адресов маршрута getRouteAddresses()\n\t\trouteAddresses = [],\n\t\t// Массив всех поисковых подсказок inputValidation()\n\t\tsuggestView = [],\n\t\t// Массив одной поисковой подсказки inputValidation()\n\t\tsuggestViewArr = [],\n\t\t// Кнопка отправки формы (Заказ такси)\n\t\tsubmit = document.querySelector('.inputs__submit'),\n\t\t// Переменная формы\n\t\tform\t\t\t\t= document.querySelector('#form'),\n\t\t// Данные маршрута\n\t\t// Адресс\n\t\t$routeAddressesInput\t= $('.address__input-address'),\n\t\t// Дом\n\t\t$routeHouseInput\t= $('.address__input-house'),\n\t\t// Переменная автозаполнения адресов\n\t\t$suggestViewAdressHint,\n\t\t// Активный маршрут\n\t\tactiveRoute,\n\t\t// Переменные данных о маршруте растояние и время в пути\n\t\t$tripDistans = $('.trip__length'),\n\t\t$tripTime = $('.trip__time'),\n\t\t$tripPrice = $('.trip__price'),\n\t\t// Элементы выбора автомобиля\n\t\t$carChoice = $('.car__choice'),\n\t\t// Переменная выбранного автомобиля\n\t\tautoChoice = 'Седан',\n\t\t// Кнопка показа меню комментирования и выбора доп. опций\n\t\t$moreButton = $('.more__url'),\n\t\t// Меню комментариев и тд.\n\t\t$moreMenu = $('.more__menu'),\n\t\t// Элементы доп. опции\n\t\t$moreOption = $('.more__option'),\n\t\t// Цена итоговая\n\t\tpriceTrip;\n\n\t// При нажатии на кнопку омментариев и тд.\n\t$($moreButton).on('click', function() {\n\t\t$($moreMenu).toggleClass('active');\n\t});\n\n\t// При нажатии на выбор автомобиля\n\t$($carChoice).on('click', function() {\n\t\tif (!$(this).hasClass('active')) {\n\t\t\t$($carChoice).removeClass('active')\n\t\t\t$(this).addClass('active')\n\t\t\tautoChoice = $(this).attr('data-name')\n\n\t\t\t// От того какая машина выбрана формируется цена посадки\n\t\t\tif ( autoChoice == 'Седан' ) {\n\t\t\t\tprice_car -= .5;\n\n\t\t\t}\n\t\t\telse if ( autoChoice == 'Минивен' ) {\n\t\t\t\tprice_car += .5;\n\t\t\t}\n\t\t}\n\t\t// Если маршрут уже введен, происходит пересчет цены маршрута\n\t\tif (checkForRouteEntry($routeAddressesInput)) {\n\t\t\ttripData(lengthRoute, timeRoute);\n\t\t}\n\t});\n\n\t// При нажатии на доп. опции\n\t$($moreOption).on('click', function() {\n\t\t$(this).toggleClass('active');\n\t\tfunction checkPrice( obj, sign) {\n\t\t\t$( obj ) .attr('data-price', function(index, value) {\n\t\t\t\tif ( value != undefined ) {\n\t\t\t\t\tprice_car += parseInt( value ) * parseInt(sign);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif ($(this).hasClass('active')) {\n\t\t\tcheckPrice( this, '1');\n\t\t\t// Если маршрут уже введен, происходит пересчет цены маршрута\n\t\t\tif (checkForRouteEntry($routeAddressesInput)) {\n\t\t\t\ttripData(lengthRoute, timeRoute);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcheckPrice( this, '-1');\n\t\t\t// Если маршрут уже введен, происходит пересчет цены маршрута\n\t\t\tif (checkForRouteEntry($routeAddressesInput)) {\n\t\t\t\ttripData(lengthRoute, timeRoute);\n\t\t\t}\n\t\t}\n\t});\n\n\n\t// При вводе в строку адреса\n\t$($routeAddressesInput).on(\"input\", function() {\n\t\t// Получаем в массив suggestView все поисковые подсказки\n\t\tinputValidation(this.value);\n\t\t// Если что-то введено в строку адреса\n\t\tif (this.value.length > 0) {\n\t\t\t// Удаляем все подсказки\n\t\t\t$(\".hints__hint\").remove();\n\t\t\t// Показываем меня подсказок и добавляем их\n\t\t\t$(this).parent(\".address__address\").parent(\".address\").find(\".hints\").show().append(function(index, value) {\n\n\t\t\t\tvar result = \"\",\t\t\t// Результат выводимый на экран(автозаполнение)\n\t\t\t\t\tsuggestViewAdress,\t\t// Результат записывающийся в value\n\t\t\t\t\tsuggestViewAdressDesc,\t// Подпись к suggestViewAdress(область, страна)\n\t\t\t\t\tdataAddress;\t\t\t// Дата атрибут\n\n\t\t\t\tfor (var i = 0; i < suggestView.length; i++) {\n\t\t\t\t\t// Обнуляем массив всех поисковых подсказок\n\t\t\t\t\tsuggestViewArr.splice(0, suggestViewArr.length);\n\t\t\t\t\t// Разделяем всех поисковых подсказок по знаку \",\"\n\t\t\t\t\tsuggestViewArr = suggestView[i].split(',');\n\n\t\t\t\t\t// Обнуляем подпись к suggestViewAdress(область, страна)\n\t\t\t\t\tsuggestViewAdressDesc = \"\";\n\n\t\t\t\t\t// Перебираем все подсказки выданные на введенные данные\n\t\t\t\t\tfor (var j = 0; j < suggestViewArr.length; j++) {\n\t\t\t\t\t\t// С помощью условных операторов наполняем переменные\n\t\t\t\t\t\t// suggestViewAdressDesc - подпись адреса (город, область, страна)\n\t\t\t\t\t\t// suggestViewAdress - основной адрес (улица)\n\t\t\t\t\t\tif(j == suggestViewArr.length - 1) {\n\t\t\t\t\t\t\tsuggestViewAdressDesc += suggestViewArr[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (j != 0) {\n\t\t\t\t\t\t\tsuggestViewAdressDesc += suggestViewArr[j] + \", \" ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tsuggestViewAdress = suggestViewArr[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataAddress = 'val:'+suggestViewAdress+';address:'+suggestView[i];\n\t\t\t\t\tresult += '<li class=\"hints__hint\" data-address=\"' + dataAddress + '\">' + suggestViewAdress + '<br><span class= \\\"hints__hint-desc\\\">' + suggestViewAdressDesc + '.<span></li>';\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t})\n\t\t//\n\t\t$suggestViewAdressHint = $(\".hints__hint\");\n\t\t$($suggestViewAdressHint).on('click', function(){\n\t\t\tvar ObjAdressForInput = stringToObj(this);\n\t\t\t$(this)\n\t\t\t\t\t// Скрываем подсказки адресов и добавляем выбранный адрес в строку поиска\n\t\t\t\t\t.parent(\".address__hints\")\n\t\t\t\t\t.hide()\n\t\t\t\t\t.parent(\".address\")\n\t\t\t\t\t.find(\".address__input-address\")\n\t\t\t\t\t.val(ObjAdressForInput.val)\n\t\t\t\t\t.attr('data-address', ObjAdressForInput.address);\n\n\t\t\t\t\tif (checkForRouteEntry($routeAddressesInput)) {\n\t\t\t\t\t\trouteingInMap();\n\t\t\t\t\t\tif (phoveValid) {\n\t\t\t\t\t\t\tsubmitActive();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t})\n\t\t}\n\t\t// Если ничего не введено в строку адреса\n\t\telse {\n\t\t\t$(\".hints__hint\").remove();\n\t\t}\n\t});\n\n\n\n\t// При вводе номера дома прокладывается адрес\n\t$($routeHouseInput).on(\"input\", function() {\n\t\tif (checkForRouteEntry($routeAddressesInput)) {\n\t\t\trouteingInMap();\n\t\t\tif (phoveValid) {\n\t\t\t\tsubmitActive();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Проверка введения всего маршрута\n\tfunction checkForRouteEntry($inputs){\n\t\tfor (var i = 0; i < $inputs.length; i++) {\n\t\t\tif($($inputs[i]).attr('data-address') == undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t// Активация кнопки отправки формы (Заказать такси)\n\tfunction submitActive() {\n\t\tsubmit.disabled = false;\n\t\tsubmit.classList.add('active');\n\t}\n\n\tfunction submitUnActive() {\n\t\tsubmit.disabled = true;\n\t\tsubmit.classList.remove('active');\n\t}\n\n\t// Перевод строки в объект\n\tfunction stringToObj(obj) {\n\t\tvar string = $(obj).attr('data-address');\n\t\tvar arr = [],\n\t\t\tobj = [],\n\t\t\tarrSplit = [];\n\n\t\tarr = string.split(';');\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tarrSplit = arr[i].split(':');\n\t\t\tobj[arrSplit[0]] = arrSplit[1];\n\t\t}\n\t\treturn obj;\n\t}\n\n\t// Функция добавления поисковых подсказок по value\n\tfunction inputValidation(value) {\n\t\tymaps.suggest(value, {\n\t\t\tboundedBy:[[54.565521,30.309393],[54.454647, 30.502341]],\n\t\t\tprovider: {\n\t\t\t\t\tsuggest:(function(request, options){\n\t\t\t\t\treturn ymaps.suggest(\"Беларусь, Витебская область, Орша,\" + request);\n\t\t\t})}\n\t\t}).then(function (items) {\n\t\t\tsuggestView.splice(0, suggestView.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tsuggestView[i]= items[i].displayName;\n\t\t\t}\n\t\t});\n\t};\n\n\t// Функция получения всех адресов введенных в инпуты поиска\n\tfunction getRouteAddresses() {\n\t\tvar address = [];\n\t\tfor (var i = 0; i < $routeAddressesInput.length; i++) {\n\t\t\taddress[i]= $($routeAddressesInput[i]).val() + \", \" + $($routeHouseInput[i]).val() + \", Орша, Витебская область, Беларусь\";\n\t\t\t//address[i]= $($routeAddressesInput[i]).attr('data-address');\n\t\t}\n\t\treturn address;\n\t};\n\n\t// Функция добавления маршрута на карту, она же удаляет предыдущее маршруты\n\t// с помощью функции myGeoObjects.removeAll()\n\tfunction showRoute(value, callback) {\n\t\tymaps.route(value, {\n\t\t\tboundedBy:[[54.565521,30.309393],[54.454647, 30.502341]],\n\t\t}).then(\n\t\t\tfunction (route) {\n\t\t\t\tthisGeoObjectCollection.removeAll();\n\t\t\t\tthisGeoObjectCollection.add(route);\n\t\t\t\tmyMap.geoObjects.add(thisGeoObjectCollection);\n\t\t\t\tvar routeDataLength = (route.getLength()/1000).toFixed(2);\n\t\t\t\tvar routeDataTime =  Math.ceil(route.getTime()/60);\n\t\t\t\tcallback(routeDataLength, routeDataTime);\n\t\t\t},\n\t\t\tfunction (error) {\n\t\t\t\talert('Возникла ошибка: ' + error.message);\n\t\t\t}\n\t\t);\n\t};\n\n\t// Отображение длинны и времени маршрута\n\tfunction tripData(length, time) {\n\t\tpriceTrip = Math.ceil(price_for_km * length) + price_car;\n\t\tconsole.log(price_for_km*length, price_car);\n/*\t\t$($tripDistans).html('Растояние: ~ ' + length + ' км');\n\t\t$($tripTime).html('В пути: ~ ' + time + ' минут');*/\n\t\t$($tripPrice).html('стоимость ~ ' + priceTrip + ' руб.');\n\t};\n\n\t// Создаем экземпляр Якарты\n\tmyMap = new ymaps.Map('YMapsID', {\n\t\tcenter: [54.510741, 30.429586],\n\t\tzoom: 15,\n\t\tcontrols: []\n\t});\n\n\t// Создаем коллекцию геообъектов(в данном случае маршрутов)\n\t// для более удобного редактирования в дальнейшем\n\tthisGeoObjectCollection = new ymaps.GeoObjectCollection({}, {\n\t\tpreset: \"islands#redCircleIcon\",\n\t\tstrokeWidth: 4,\n\t\tgeodesic: true\n\t});\n\t// Сохранение данны маршрута\n\tfunction saveDataRoute(length, time) {\n\t\t// Длинна маршрута\n\t\tlengthRoute = length,\n\t\t// Время в пути\n\t\ttimeRoute = time;\n\t}\n\t// Показ маршрута на карте\n\tfunction routeingInMap() {\n\t\t// Получаем адреса для маршрута\n\t\trouteAddresses = getRouteAddresses();\n\n\t\t// Отображаем маршрут на карте\n\t\tshowRoute(routeAddresses, function(length, time) {\n\t\t\ttripData(length, time);\n\t\t\tsaveDataRoute(length, time);\n\t\t});\n\t};\n\n\t// При нажатии на сабмит проихойдет построение маршрута(если он есть),\n\t// с помощью функции showRoute(), в которую передается массив где:\n\t// [0] - точка отправления, [>0] - точк(а/и) направления.\n\tform.onsubmit = function () {\n\t\te.preventDefault()\n\t\trouteingInMap()\n\t};\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvX3NjcmlwdHMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxuJ3VzZSBzdHJpY3QnO1xuXG5cblxueW1hcHMucmVhZHkoaW5pdCk7XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cdC8vINCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDRhtC10L3Ri1xuXHRcdC8vINCm0LXQvdCwINC30LAgMSDQutC8XG5cdHZhclx0cHJpY2VfZm9yX2ttID0gMC41LFxuXHRcdC8vINCm0LXQvdCwINC/0L7RgdCw0LTQutC4XG5cdFx0cHJpY2VfY2FyID0gMS41LFxuXHRcdC8vINCU0LvQuNC90L3QsCDQvNCw0YDRiNGA0YPRgtCwXG5cdFx0bGVuZ3RoUm91dGUgPSAwLFxuXHRcdC8vINCS0YDQtdC80Y8g0LIg0L/Rg9GC0Lhcblx0XHR0aW1lUm91dGUgPSAwO1xuXG5cblx0Ly8g0KLQtdC70LXRhNC+0L1cblxuXHRcdC8vINCf0L7Qu9C1INCy0LLQvtC00LAg0YLQtdC70LXRhNC+0L3QvdC+0LPQviDQvdC+0LzQtdGA0LBcblx0dmFyXHQkaW5wdXRGb3JNYXNrID0gJCgnI3Bob25lJyksXG5cdFx0Ly8g0JLQsNC70LjQtNC90L7RgdGC0Ywg0LLQstC10LTQtdC90L3QvtCz0L4g0L3QvtC80LXRgNCwXG5cdFx0cGhvdmVWYWxpZCA9IGZhbHNlO1xuXG5cdC8vINCf0YDQuNC80LXQvdC10L3QuNC1INC80LDRgdC60Lgg0Log0L/QvtC70Y4g0LLQstC+0LTQsCDRgtC10LvQtdGE0L7QvdCwXG5cdCQoJGlucHV0Rm9yTWFzaykuaW5wdXRtYXNrKHtcblx0XHRtYXNrIDogXCIrMzc1KDk5KTk5OS05OS05OVwiLFxuXHRcdC8vINCf0YDQuCDQv9C+0LvQvdC+0Lwg0LLQstC+0LTQtVxuXHRcdG9uY29tcGxldGUgOiBmdW5jdGlvbigpIHtcblx0XHRcdHBob3ZlVmFsaWQgPSB0cnVlO1xuXHRcdFx0aWYgKGNoZWNrRm9yUm91dGVFbnRyeSgkcm91dGVBZGRyZXNzZXNJbnB1dCkpIHtcblx0XHRcdFx0c3VibWl0QWN0aXZlKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvLyDQn9GA0Lgg0L3QtSDQv9C+0LvQvdC+0Lwg0LLQstC+0LTQtVxuXHRcdG9uaW5jb21wbGV0ZSA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cGhvdmVWYWxpZD0gZmFsc2U7XG5cdFx0XHRzdWJtaXRVbkFjdGl2ZSgpO1xuXHRcdH0sXG5cdFx0Ly8g0J/RgNC4INGD0LTQsNC70LXQvdC40Lgg0LjQtyDQvdC+0LzQtdGA0LAg0L7QtNC90L7Qs9C+INC4INCx0L7Qu9C10LUg0LfQvdCw0YfQtdC90LjQuVxuXHRcdGNhbkNsZWFyUG9zaXRpb24gOiBmdW5jdGlvbigpIHtcblx0XHRcdHBob3ZlVmFsaWQ9IGZhbHNlO1xuXHRcdFx0c3VibWl0VW5BY3RpdmUoKTtcblx0XHR9XG5cdH0pO1xuXHQvLyDQmtC+0L3QtdGGIC0g0KLQtdC70LXRhNC+0L1cblxuXG5cblx0XHQvLyDQn9C10YDQtdC80LXQvdC90LDRjyDRgdC+0LTQtdGA0LbQsNGJ0LDRjyDRhNC+0YDQvNGDINCy0LLQvtC00LAg0LzQsNGA0YjRgNGD0YLQsFxuXHR2YXJcdGZvcm0sXG5cdFx0Ly8g0J/QtdGA0LXQvNC10L3QvdCw0Y8g0YHQvtC00LXRgNC20LDRidCw0Y8g0Y3QutC30LXQvNC/0LvRj9GAINCv0LrQsNGA0YLRi1xuXHRcdG15TWFwLFxuXHRcdC8vINCa0L7Qu9C70LXQutGG0LjRjyDQs9C10L7QvtCx0YrQtdC60YLQvtCyLlxuXHRcdHRoaXNHZW9PYmplY3RDb2xsZWN0aW9uLFxuXHRcdC8vINCc0LDRgdGB0LjQsiDQuNC90L/Rg9GC0L7QsiDRgSDQsNC00YDQtdGB0LDQvNC4INC80LDRgNGI0YDRg9GC0LBcblx0XHQkcm91dGVBZGRyZXNzZXNJbnB1dCA9IFtdLFxuXHRcdC8vINCc0LDRgdGB0LjQsiDQsNC00YDQtdGB0L7QsiDQvNCw0YDRiNGA0YPRgtCwIGdldFJvdXRlQWRkcmVzc2VzKClcblx0XHRyb3V0ZUFkZHJlc3NlcyA9IFtdLFxuXHRcdC8vINCc0LDRgdGB0LjQsiDQstGB0LXRhSDQv9C+0LjRgdC60L7QstGL0YUg0L/QvtC00YHQutCw0LfQvtC6IGlucHV0VmFsaWRhdGlvbigpXG5cdFx0c3VnZ2VzdFZpZXcgPSBbXSxcblx0XHQvLyDQnNCw0YHRgdC40LIg0L7QtNC90L7QuSDQv9C+0LjRgdC60L7QstC+0Lkg0L/QvtC00YHQutCw0LfQutC4IGlucHV0VmFsaWRhdGlvbigpXG5cdFx0c3VnZ2VzdFZpZXdBcnIgPSBbXSxcblx0XHQvLyDQmtC90L7Qv9C60LAg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLICjQl9Cw0LrQsNC3INGC0LDQutGB0LgpXG5cdFx0c3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0c19fc3VibWl0JyksXG5cdFx0Ly8g0J/QtdGA0LXQvNC10L3QvdCw0Y8g0YTQvtGA0LzRi1xuXHRcdGZvcm1cdFx0XHRcdD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0nKSxcblx0XHQvLyDQlNCw0L3QvdGL0LUg0LzQsNGA0YjRgNGD0YLQsFxuXHRcdC8vINCQ0LTRgNC10YHRgVxuXHRcdCRyb3V0ZUFkZHJlc3Nlc0lucHV0XHQ9ICQoJy5hZGRyZXNzX19pbnB1dC1hZGRyZXNzJyksXG5cdFx0Ly8g0JTQvtC8XG5cdFx0JHJvdXRlSG91c2VJbnB1dFx0PSAkKCcuYWRkcmVzc19faW5wdXQtaG91c2UnKSxcblx0XHQvLyDQn9C10YDQtdC80LXQvdC90LDRjyDQsNCy0YLQvtC30LDQv9C+0LvQvdC10L3QuNGPINCw0LTRgNC10YHQvtCyXG5cdFx0JHN1Z2dlc3RWaWV3QWRyZXNzSGludCxcblx0XHQvLyDQkNC60YLQuNCy0L3Ri9C5INC80LDRgNGI0YDRg9GCXG5cdFx0YWN0aXZlUm91dGUsXG5cdFx0Ly8g0J/QtdGA0LXQvNC10L3QvdGL0LUg0LTQsNC90L3Ri9GFINC+INC80LDRgNGI0YDRg9GC0LUg0YDQsNGB0YLQvtGP0L3QuNC1INC4INCy0YDQtdC80Y8g0LIg0L/Rg9GC0Lhcblx0XHQkdHJpcERpc3RhbnMgPSAkKCcudHJpcF9fbGVuZ3RoJyksXG5cdFx0JHRyaXBUaW1lID0gJCgnLnRyaXBfX3RpbWUnKSxcblx0XHQkdHJpcFByaWNlID0gJCgnLnRyaXBfX3ByaWNlJyksXG5cdFx0Ly8g0K3Qu9C10LzQtdC90YLRiyDQstGL0LHQvtGA0LAg0LDQstGC0L7QvNC+0LHQuNC70Y9cblx0XHQkY2FyQ2hvaWNlID0gJCgnLmNhcl9fY2hvaWNlJyksXG5cdFx0Ly8g0J/QtdGA0LXQvNC10L3QvdCw0Y8g0LLRi9Cx0YDQsNC90L3QvtCz0L4g0LDQstGC0L7QvNC+0LHQuNC70Y9cblx0XHRhdXRvQ2hvaWNlID0gJ9Ch0LXQtNCw0L0nLFxuXHRcdC8vINCa0L3QvtC/0LrQsCDQv9C+0LrQsNC30LAg0LzQtdC90Y4g0LrQvtC80LzQtdC90YLQuNGA0L7QstCw0L3QuNGPINC4INCy0YvQsdC+0YDQsCDQtNC+0L8uINC+0L/RhtC40Llcblx0XHQkbW9yZUJ1dHRvbiA9ICQoJy5tb3JlX191cmwnKSxcblx0XHQvLyDQnNC10L3RjiDQutC+0LzQvNC10L3RgtCw0YDQuNC10LIg0Lgg0YLQtC5cblx0XHQkbW9yZU1lbnUgPSAkKCcubW9yZV9fbWVudScpLFxuXHRcdC8vINCt0LvQtdC80LXQvdGC0Ysg0LTQvtC/LiDQvtC/0YbQuNC4XG5cdFx0JG1vcmVPcHRpb24gPSAkKCcubW9yZV9fb3B0aW9uJyksXG5cdFx0Ly8g0KbQtdC90LAg0LjRgtC+0LPQvtCy0LDRj1xuXHRcdHByaWNlVHJpcDtcblxuXHQvLyDQn9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCDQutC90L7Qv9C60YMg0L7QvNC80LXQvdGC0LDRgNC40LXQsiDQuCDRgtC0LlxuXHQkKCRtb3JlQnV0dG9uKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHQkKCRtb3JlTWVudSkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuXHR9KTtcblxuXHQvLyDQn9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCDQstGL0LHQvtGAINCw0LLRgtC+0LzQvtCx0LjQu9GPXG5cdCQoJGNhckNob2ljZSkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuXHRcdFx0JCgkY2FyQ2hvaWNlKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cdFx0XHRhdXRvQ2hvaWNlID0gJCh0aGlzKS5hdHRyKCdkYXRhLW5hbWUnKVxuXG5cdFx0XHQvLyDQntGCINGC0L7Qs9C+INC60LDQutCw0Y8g0LzQsNGI0LjQvdCwINCy0YvQsdGA0LDQvdCwINGE0L7RgNC80LjRgNGD0LXRgtGB0Y8g0YbQtdC90LAg0L/QvtGB0LDQtNC60Lhcblx0XHRcdGlmICggYXV0b0Nob2ljZSA9PSAn0KHQtdC00LDQvScgKSB7XG5cdFx0XHRcdHByaWNlX2NhciAtPSAuNTtcblxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIGF1dG9DaG9pY2UgPT0gJ9Cc0LjQvdC40LLQtdC9JyApIHtcblx0XHRcdFx0cHJpY2VfY2FyICs9IC41O1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyDQldGB0LvQuCDQvNCw0YDRiNGA0YPRgiDRg9C20LUg0LLQstC10LTQtdC9LCDQv9GA0L7QuNGB0YXQvtC00LjRgiDQv9C10YDQtdGB0YfQtdGCINGG0LXQvdGLINC80LDRgNGI0YDRg9GC0LBcblx0XHRpZiAoY2hlY2tGb3JSb3V0ZUVudHJ5KCRyb3V0ZUFkZHJlc3Nlc0lucHV0KSkge1xuXHRcdFx0dHJpcERhdGEobGVuZ3RoUm91dGUsIHRpbWVSb3V0ZSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyDQn9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCDQtNC+0L8uINC+0L/RhtC40Lhcblx0JCgkbW9yZU9wdGlvbikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG5cdFx0ZnVuY3Rpb24gY2hlY2tQcmljZSggb2JqLCBzaWduKSB7XG5cdFx0XHQkKCBvYmogKSAuYXR0cignZGF0YS1wcmljZScsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuXHRcdFx0XHRpZiAoIHZhbHVlICE9IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRwcmljZV9jYXIgKz0gcGFyc2VJbnQoIHZhbHVlICkgKiBwYXJzZUludChzaWduKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuXHRcdFx0Y2hlY2tQcmljZSggdGhpcywgJzEnKTtcblx0XHRcdC8vINCV0YHQu9C4INC80LDRgNGI0YDRg9GCINGD0LbQtSDQstCy0LXQtNC10L0sINC/0YDQvtC40YHRhdC+0LTQuNGCINC/0LXRgNC10YHRh9C10YIg0YbQtdC90Ysg0LzQsNGA0YjRgNGD0YLQsFxuXHRcdFx0aWYgKGNoZWNrRm9yUm91dGVFbnRyeSgkcm91dGVBZGRyZXNzZXNJbnB1dCkpIHtcblx0XHRcdFx0dHJpcERhdGEobGVuZ3RoUm91dGUsIHRpbWVSb3V0ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y2hlY2tQcmljZSggdGhpcywgJy0xJyk7XG5cdFx0XHQvLyDQldGB0LvQuCDQvNCw0YDRiNGA0YPRgiDRg9C20LUg0LLQstC10LTQtdC9LCDQv9GA0L7QuNGB0YXQvtC00LjRgiDQv9C10YDQtdGB0YfQtdGCINGG0LXQvdGLINC80LDRgNGI0YDRg9GC0LBcblx0XHRcdGlmIChjaGVja0ZvclJvdXRlRW50cnkoJHJvdXRlQWRkcmVzc2VzSW5wdXQpKSB7XG5cdFx0XHRcdHRyaXBEYXRhKGxlbmd0aFJvdXRlLCB0aW1lUm91dGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblxuXHQvLyDQn9GA0Lgg0LLQstC+0LTQtSDQsiDRgdGC0YDQvtC60YMg0LDQtNGA0LXRgdCwXG5cdCQoJHJvdXRlQWRkcmVzc2VzSW5wdXQpLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0Ly8g0J/QvtC70YPRh9Cw0LXQvCDQsiDQvNCw0YHRgdC40LIgc3VnZ2VzdFZpZXcg0LLRgdC1INC/0L7QuNGB0LrQvtCy0YvQtSDQv9C+0LTRgdC60LDQt9C60Lhcblx0XHRpbnB1dFZhbGlkYXRpb24odGhpcy52YWx1ZSk7XG5cdFx0Ly8g0JXRgdC70Lgg0YfRgtC+LdGC0L4g0LLQstC10LTQtdC90L4g0LIg0YHRgtGA0L7QutGDINCw0LTRgNC10YHQsFxuXHRcdGlmICh0aGlzLnZhbHVlLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vINCj0LTQsNC70Y/QtdC8INCy0YHQtSDQv9C+0LTRgdC60LDQt9C60Lhcblx0XHRcdCQoXCIuaGludHNfX2hpbnRcIikucmVtb3ZlKCk7XG5cdFx0XHQvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDQvNC10L3RjyDQv9C+0LTRgdC60LDQt9C+0Log0Lgg0LTQvtCx0LDQstC70Y/QtdC8INC40YVcblx0XHRcdCQodGhpcykucGFyZW50KFwiLmFkZHJlc3NfX2FkZHJlc3NcIikucGFyZW50KFwiLmFkZHJlc3NcIikuZmluZChcIi5oaW50c1wiKS5zaG93KCkuYXBwZW5kKGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuXG5cdFx0XHRcdHZhciByZXN1bHQgPSBcIlwiLFx0XHRcdC8vINCg0LXQt9GD0LvRjNGC0LDRgiDQstGL0LLQvtC00LjQvNGL0Lkg0L3QsCDRjdC60YDQsNC9KNCw0LLRgtC+0LfQsNC/0L7Qu9C90LXQvdC40LUpXG5cdFx0XHRcdFx0c3VnZ2VzdFZpZXdBZHJlc3MsXHRcdC8vINCg0LXQt9GD0LvRjNGC0LDRgiDQt9Cw0L/QuNGB0YvQstCw0Y7RidC40LnRgdGPINCyIHZhbHVlXG5cdFx0XHRcdFx0c3VnZ2VzdFZpZXdBZHJlc3NEZXNjLFx0Ly8g0J/QvtC00L/QuNGB0Ywg0Logc3VnZ2VzdFZpZXdBZHJlc3Mo0L7QsdC70LDRgdGC0YwsINGB0YLRgNCw0L3QsClcblx0XHRcdFx0XHRkYXRhQWRkcmVzcztcdFx0XHQvLyDQlNCw0YLQsCDQsNGC0YDQuNCx0YPRglxuXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3VnZ2VzdFZpZXcubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHQvLyDQntCx0L3Rg9C70Y/QtdC8INC80LDRgdGB0LjQsiDQstGB0LXRhSDQv9C+0LjRgdC60L7QstGL0YUg0L/QvtC00YHQutCw0LfQvtC6XG5cdFx0XHRcdFx0c3VnZ2VzdFZpZXdBcnIuc3BsaWNlKDAsIHN1Z2dlc3RWaWV3QXJyLmxlbmd0aCk7XG5cdFx0XHRcdFx0Ly8g0KDQsNC30LTQtdC70Y/QtdC8INCy0YHQtdGFINC/0L7QuNGB0LrQvtCy0YvRhSDQv9C+0LTRgdC60LDQt9C+0Log0L/QviDQt9C90LDQutGDIFwiLFwiXG5cdFx0XHRcdFx0c3VnZ2VzdFZpZXdBcnIgPSBzdWdnZXN0Vmlld1tpXS5zcGxpdCgnLCcpO1xuXG5cdFx0XHRcdFx0Ly8g0J7QsdC90YPQu9GP0LXQvCDQv9C+0LTQv9C40YHRjCDQuiBzdWdnZXN0Vmlld0FkcmVzcyjQvtCx0LvQsNGB0YLRjCwg0YHRgtGA0LDQvdCwKVxuXHRcdFx0XHRcdHN1Z2dlc3RWaWV3QWRyZXNzRGVzYyA9IFwiXCI7XG5cblx0XHRcdFx0XHQvLyDQn9C10YDQtdCx0LjRgNCw0LXQvCDQstGB0LUg0L/QvtC00YHQutCw0LfQutC4INCy0YvQtNCw0L3QvdGL0LUg0L3QsCDQstCy0LXQtNC10L3QvdGL0LUg0LTQsNC90L3Ri9C1XG5cdFx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBzdWdnZXN0Vmlld0Fyci5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdFx0Ly8g0KEg0L/QvtC80L7RidGM0Y4g0YPRgdC70L7QstC90YvRhSDQvtC/0LXRgNCw0YLQvtGA0L7QsiDQvdCw0L/QvtC70L3Rj9C10Lwg0L/QtdGA0LXQvNC10L3QvdGL0LVcblx0XHRcdFx0XHRcdC8vIHN1Z2dlc3RWaWV3QWRyZXNzRGVzYyAtINC/0L7QtNC/0LjRgdGMINCw0LTRgNC10YHQsCAo0LPQvtGA0L7QtCwg0L7QsdC70LDRgdGC0YwsINGB0YLRgNCw0L3QsClcblx0XHRcdFx0XHRcdC8vIHN1Z2dlc3RWaWV3QWRyZXNzIC0g0L7RgdC90L7QstC90L7QuSDQsNC00YDQtdGBICjRg9C70LjRhtCwKVxuXHRcdFx0XHRcdFx0aWYoaiA9PSBzdWdnZXN0Vmlld0Fyci5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdFx0XHRcdHN1Z2dlc3RWaWV3QWRyZXNzRGVzYyArPSBzdWdnZXN0Vmlld0FycltqXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKGogIT0gMCkge1xuXHRcdFx0XHRcdFx0XHRzdWdnZXN0Vmlld0FkcmVzc0Rlc2MgKz0gc3VnZ2VzdFZpZXdBcnJbal0gKyBcIiwgXCIgO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZXtcblx0XHRcdFx0XHRcdFx0c3VnZ2VzdFZpZXdBZHJlc3MgPSBzdWdnZXN0Vmlld0FycltqXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YUFkZHJlc3MgPSAndmFsOicrc3VnZ2VzdFZpZXdBZHJlc3MrJzthZGRyZXNzOicrc3VnZ2VzdFZpZXdbaV07XG5cdFx0XHRcdFx0cmVzdWx0ICs9ICc8bGkgY2xhc3M9XCJoaW50c19faGludFwiIGRhdGEtYWRkcmVzcz1cIicgKyBkYXRhQWRkcmVzcyArICdcIj4nICsgc3VnZ2VzdFZpZXdBZHJlc3MgKyAnPGJyPjxzcGFuIGNsYXNzPSBcXFwiaGludHNfX2hpbnQtZGVzY1xcXCI+JyArIHN1Z2dlc3RWaWV3QWRyZXNzRGVzYyArICcuPHNwYW4+PC9saT4nO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9KVxuXHRcdC8vXG5cdFx0JHN1Z2dlc3RWaWV3QWRyZXNzSGludCA9ICQoXCIuaGludHNfX2hpbnRcIik7XG5cdFx0JCgkc3VnZ2VzdFZpZXdBZHJlc3NIaW50KS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIE9iakFkcmVzc0ZvcklucHV0ID0gc3RyaW5nVG9PYmoodGhpcyk7XG5cdFx0XHQkKHRoaXMpXG5cdFx0XHRcdFx0Ly8g0KHQutGA0YvQstCw0LXQvCDQv9C+0LTRgdC60LDQt9C60Lgg0LDQtNGA0LXRgdC+0LIg0Lgg0LTQvtCx0LDQstC70Y/QtdC8INCy0YvQsdGA0LDQvdC90YvQuSDQsNC00YDQtdGBINCyINGB0YLRgNC+0LrRgyDQv9C+0LjRgdC60LBcblx0XHRcdFx0XHQucGFyZW50KFwiLmFkZHJlc3NfX2hpbnRzXCIpXG5cdFx0XHRcdFx0LmhpZGUoKVxuXHRcdFx0XHRcdC5wYXJlbnQoXCIuYWRkcmVzc1wiKVxuXHRcdFx0XHRcdC5maW5kKFwiLmFkZHJlc3NfX2lucHV0LWFkZHJlc3NcIilcblx0XHRcdFx0XHQudmFsKE9iakFkcmVzc0ZvcklucHV0LnZhbClcblx0XHRcdFx0XHQuYXR0cignZGF0YS1hZGRyZXNzJywgT2JqQWRyZXNzRm9ySW5wdXQuYWRkcmVzcyk7XG5cblx0XHRcdFx0XHRpZiAoY2hlY2tGb3JSb3V0ZUVudHJ5KCRyb3V0ZUFkZHJlc3Nlc0lucHV0KSkge1xuXHRcdFx0XHRcdFx0cm91dGVpbmdJbk1hcCgpO1xuXHRcdFx0XHRcdFx0aWYgKHBob3ZlVmFsaWQpIHtcblx0XHRcdFx0XHRcdFx0c3VibWl0QWN0aXZlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdH0pXG5cdFx0fVxuXHRcdC8vINCV0YHQu9C4INC90LjRh9C10LPQviDQvdC1INCy0LLQtdC00LXQvdC+INCyINGB0YLRgNC+0LrRgyDQsNC00YDQtdGB0LBcblx0XHRlbHNlIHtcblx0XHRcdCQoXCIuaGludHNfX2hpbnRcIikucmVtb3ZlKCk7XG5cdFx0fVxuXHR9KTtcblxuXG5cblx0Ly8g0J/RgNC4INCy0LLQvtC00LUg0L3QvtC80LXRgNCwINC00L7QvNCwINC/0YDQvtC60LvQsNC00YvQstCw0LXRgtGB0Y8g0LDQtNGA0LXRgVxuXHQkKCRyb3V0ZUhvdXNlSW5wdXQpLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0aWYgKGNoZWNrRm9yUm91dGVFbnRyeSgkcm91dGVBZGRyZXNzZXNJbnB1dCkpIHtcblx0XHRcdHJvdXRlaW5nSW5NYXAoKTtcblx0XHRcdGlmIChwaG92ZVZhbGlkKSB7XG5cdFx0XHRcdHN1Ym1pdEFjdGl2ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0Ly8g0J/RgNC+0LLQtdGA0LrQsCDQstCy0LXQtNC10L3QuNGPINCy0YHQtdCz0L4g0LzQsNGA0YjRgNGD0YLQsFxuXHRmdW5jdGlvbiBjaGVja0ZvclJvdXRlRW50cnkoJGlucHV0cyl7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZigkKCRpbnB1dHNbaV0pLmF0dHIoJ2RhdGEtYWRkcmVzcycpID09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdC8vINCQ0LrRgtC40LLQsNGG0LjRjyDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLICjQl9Cw0LrQsNC30LDRgtGMINGC0LDQutGB0LgpXG5cdGZ1bmN0aW9uIHN1Ym1pdEFjdGl2ZSgpIHtcblx0XHRzdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRzdWJtaXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzdWJtaXRVbkFjdGl2ZSgpIHtcblx0XHRzdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdHN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0fVxuXG5cdC8vINCf0LXRgNC10LLQvtC0INGB0YLRgNC+0LrQuCDQsiDQvtCx0YrQtdC60YJcblx0ZnVuY3Rpb24gc3RyaW5nVG9PYmoob2JqKSB7XG5cdFx0dmFyIHN0cmluZyA9ICQob2JqKS5hdHRyKCdkYXRhLWFkZHJlc3MnKTtcblx0XHR2YXIgYXJyID0gW10sXG5cdFx0XHRvYmogPSBbXSxcblx0XHRcdGFyclNwbGl0ID0gW107XG5cblx0XHRhcnIgPSBzdHJpbmcuc3BsaXQoJzsnKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHRcdFx0YXJyU3BsaXQgPSBhcnJbaV0uc3BsaXQoJzonKTtcblx0XHRcdG9ialthcnJTcGxpdFswXV0gPSBhcnJTcGxpdFsxXTtcblx0XHR9XG5cdFx0cmV0dXJuIG9iajtcblx0fVxuXG5cdC8vINCk0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINC/0L7QuNGB0LrQvtCy0YvRhSDQv9C+0LTRgdC60LDQt9C+0Log0L/QviB2YWx1ZVxuXHRmdW5jdGlvbiBpbnB1dFZhbGlkYXRpb24odmFsdWUpIHtcblx0XHR5bWFwcy5zdWdnZXN0KHZhbHVlLCB7XG5cdFx0XHRib3VuZGVkQnk6W1s1NC41NjU1MjEsMzAuMzA5MzkzXSxbNTQuNDU0NjQ3LCAzMC41MDIzNDFdXSxcblx0XHRcdHByb3ZpZGVyOiB7XG5cdFx0XHRcdFx0c3VnZ2VzdDooZnVuY3Rpb24ocmVxdWVzdCwgb3B0aW9ucyl7XG5cdFx0XHRcdFx0cmV0dXJuIHltYXBzLnN1Z2dlc3QoXCLQkdC10LvQsNGA0YPRgdGMLCDQktC40YLQtdCx0YHQutCw0Y8g0L7QsdC70LDRgdGC0YwsINCe0YDRiNCwLFwiICsgcmVxdWVzdCk7XG5cdFx0XHR9KX1cblx0XHR9KS50aGVuKGZ1bmN0aW9uIChpdGVtcykge1xuXHRcdFx0c3VnZ2VzdFZpZXcuc3BsaWNlKDAsIHN1Z2dlc3RWaWV3Lmxlbmd0aCk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHN1Z2dlc3RWaWV3W2ldPSBpdGVtc1tpXS5kaXNwbGF5TmFtZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fTtcblxuXHQvLyDQpNGD0L3QutGG0LjRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LLRgdC10YUg0LDQtNGA0LXRgdC+0LIg0LLQstC10LTQtdC90L3Ri9GFINCyINC40L3Qv9GD0YLRiyDQv9C+0LjRgdC60LBcblx0ZnVuY3Rpb24gZ2V0Um91dGVBZGRyZXNzZXMoKSB7XG5cdFx0dmFyIGFkZHJlc3MgPSBbXTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8ICRyb3V0ZUFkZHJlc3Nlc0lucHV0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhZGRyZXNzW2ldPSAkKCRyb3V0ZUFkZHJlc3Nlc0lucHV0W2ldKS52YWwoKSArIFwiLCBcIiArICQoJHJvdXRlSG91c2VJbnB1dFtpXSkudmFsKCkgKyBcIiwg0J7RgNGI0LAsINCS0LjRgtC10LHRgdC60LDRjyDQvtCx0LvQsNGB0YLRjCwg0JHQtdC70LDRgNGD0YHRjFwiO1xuXHRcdFx0Ly9hZGRyZXNzW2ldPSAkKCRyb3V0ZUFkZHJlc3Nlc0lucHV0W2ldKS5hdHRyKCdkYXRhLWFkZHJlc3MnKTtcblx0XHR9XG5cdFx0cmV0dXJuIGFkZHJlc3M7XG5cdH07XG5cblx0Ly8g0KTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LzQsNGA0YjRgNGD0YLQsCDQvdCwINC60LDRgNGC0YMsINC+0L3QsCDQttC1INGD0LTQsNC70Y/QtdGCINC/0YDQtdC00YvQtNGD0YnQtdC1INC80LDRgNGI0YDRg9GC0Ytcblx0Ly8g0YEg0L/QvtC80L7RidGM0Y4g0YTRg9C90LrRhtC40LggbXlHZW9PYmplY3RzLnJlbW92ZUFsbCgpXG5cdGZ1bmN0aW9uIHNob3dSb3V0ZSh2YWx1ZSwgY2FsbGJhY2spIHtcblx0XHR5bWFwcy5yb3V0ZSh2YWx1ZSwge1xuXHRcdFx0Ym91bmRlZEJ5OltbNTQuNTY1NTIxLDMwLjMwOTM5M10sWzU0LjQ1NDY0NywgMzAuNTAyMzQxXV0sXG5cdFx0fSkudGhlbihcblx0XHRcdGZ1bmN0aW9uIChyb3V0ZSkge1xuXHRcdFx0XHR0aGlzR2VvT2JqZWN0Q29sbGVjdGlvbi5yZW1vdmVBbGwoKTtcblx0XHRcdFx0dGhpc0dlb09iamVjdENvbGxlY3Rpb24uYWRkKHJvdXRlKTtcblx0XHRcdFx0bXlNYXAuZ2VvT2JqZWN0cy5hZGQodGhpc0dlb09iamVjdENvbGxlY3Rpb24pO1xuXHRcdFx0XHR2YXIgcm91dGVEYXRhTGVuZ3RoID0gKHJvdXRlLmdldExlbmd0aCgpLzEwMDApLnRvRml4ZWQoMik7XG5cdFx0XHRcdHZhciByb3V0ZURhdGFUaW1lID0gIE1hdGguY2VpbChyb3V0ZS5nZXRUaW1lKCkvNjApO1xuXHRcdFx0XHRjYWxsYmFjayhyb3V0ZURhdGFMZW5ndGgsIHJvdXRlRGF0YVRpbWUpO1xuXHRcdFx0fSxcblx0XHRcdGZ1bmN0aW9uIChlcnJvcikge1xuXHRcdFx0XHRhbGVydCgn0JLQvtC30L3QuNC60LvQsCDQvtGI0LjQsdC60LA6ICcgKyBlcnJvci5tZXNzYWdlKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9O1xuXG5cdC8vINCe0YLQvtCx0YDQsNC20LXQvdC40LUg0LTQu9C40L3QvdGLINC4INCy0YDQtdC80LXQvdC4INC80LDRgNGI0YDRg9GC0LBcblx0ZnVuY3Rpb24gdHJpcERhdGEobGVuZ3RoLCB0aW1lKSB7XG5cdFx0cHJpY2VUcmlwID0gTWF0aC5jZWlsKHByaWNlX2Zvcl9rbSAqIGxlbmd0aCkgKyBwcmljZV9jYXI7XG5cdFx0Y29uc29sZS5sb2cocHJpY2VfZm9yX2ttKmxlbmd0aCwgcHJpY2VfY2FyKTtcbi8qXHRcdCQoJHRyaXBEaXN0YW5zKS5odG1sKCfQoNCw0YHRgtC+0Y/QvdC40LU6IH4gJyArIGxlbmd0aCArICcg0LrQvCcpO1xuXHRcdCQoJHRyaXBUaW1lKS5odG1sKCfQkiDQv9GD0YLQuDogfiAnICsgdGltZSArICcg0LzQuNC90YPRgicpOyovXG5cdFx0JCgkdHJpcFByaWNlKS5odG1sKCfRgdGC0L7QuNC80L7RgdGC0YwgfiAnICsgcHJpY2VUcmlwICsgJyDRgNGD0LEuJyk7XG5cdH07XG5cblx0Ly8g0KHQvtC30LTQsNC10Lwg0Y3QutC30LXQvNC/0LvRj9GAINCv0LrQsNGA0YLRi1xuXHRteU1hcCA9IG5ldyB5bWFwcy5NYXAoJ1lNYXBzSUQnLCB7XG5cdFx0Y2VudGVyOiBbNTQuNTEwNzQxLCAzMC40Mjk1ODZdLFxuXHRcdHpvb206IDE1LFxuXHRcdGNvbnRyb2xzOiBbXVxuXHR9KTtcblxuXHQvLyDQodC+0LfQtNCw0LXQvCDQutC+0LvQu9C10LrRhtC40Y4g0LPQtdC+0L7QsdGK0LXQutGC0L7QsijQsiDQtNCw0L3QvdC+0Lwg0YHQu9GD0YfQsNC1INC80LDRgNGI0YDRg9GC0L7Qsilcblx0Ly8g0LTQu9GPINCx0L7Qu9C10LUg0YPQtNC+0LHQvdC+0LPQviDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCyINC00LDQu9GM0L3QtdC50YjQtdC8XG5cdHRoaXNHZW9PYmplY3RDb2xsZWN0aW9uID0gbmV3IHltYXBzLkdlb09iamVjdENvbGxlY3Rpb24oe30sIHtcblx0XHRwcmVzZXQ6IFwiaXNsYW5kcyNyZWRDaXJjbGVJY29uXCIsXG5cdFx0c3Ryb2tlV2lkdGg6IDQsXG5cdFx0Z2VvZGVzaWM6IHRydWVcblx0fSk7XG5cdC8vINCh0L7RhdGA0LDQvdC10L3QuNC1INC00LDQvdC90Ysg0LzQsNGA0YjRgNGD0YLQsFxuXHRmdW5jdGlvbiBzYXZlRGF0YVJvdXRlKGxlbmd0aCwgdGltZSkge1xuXHRcdC8vINCU0LvQuNC90L3QsCDQvNCw0YDRiNGA0YPRgtCwXG5cdFx0bGVuZ3RoUm91dGUgPSBsZW5ndGgsXG5cdFx0Ly8g0JLRgNC10LzRjyDQsiDQv9GD0YLQuFxuXHRcdHRpbWVSb3V0ZSA9IHRpbWU7XG5cdH1cblx0Ly8g0J/QvtC60LDQtyDQvNCw0YDRiNGA0YPRgtCwINC90LAg0LrQsNGA0YLQtVxuXHRmdW5jdGlvbiByb3V0ZWluZ0luTWFwKCkge1xuXHRcdC8vINCf0L7Qu9GD0YfQsNC10Lwg0LDQtNGA0LXRgdCwINC00LvRjyDQvNCw0YDRiNGA0YPRgtCwXG5cdFx0cm91dGVBZGRyZXNzZXMgPSBnZXRSb3V0ZUFkZHJlc3NlcygpO1xuXG5cdFx0Ly8g0J7RgtC+0LHRgNCw0LbQsNC10Lwg0LzQsNGA0YjRgNGD0YIg0L3QsCDQutCw0YDRgtC1XG5cdFx0c2hvd1JvdXRlKHJvdXRlQWRkcmVzc2VzLCBmdW5jdGlvbihsZW5ndGgsIHRpbWUpIHtcblx0XHRcdHRyaXBEYXRhKGxlbmd0aCwgdGltZSk7XG5cdFx0XHRzYXZlRGF0YVJvdXRlKGxlbmd0aCwgdGltZSk7XG5cdFx0fSk7XG5cdH07XG5cblx0Ly8g0J/RgNC4INC90LDQttCw0YLQuNC4INC90LAg0YHQsNCx0LzQuNGCINC/0YDQvtC40YXQvtC50LTQtdGCINC/0L7RgdGC0YDQvtC10L3QuNC1INC80LDRgNGI0YDRg9GC0LAo0LXRgdC70Lgg0L7QvSDQtdGB0YLRjCksXG5cdC8vINGBINC/0L7QvNC+0YnRjNGOINGE0YPQvdC60YbQuNC4IHNob3dSb3V0ZSgpLCDQsiDQutC+0YLQvtGA0YPRjiDQv9C10YDQtdC00LDQtdGC0YHRjyDQvNCw0YHRgdC40LIg0LPQtNC1OlxuXHQvLyBbMF0gLSDRgtC+0YfQutCwINC+0YLQv9GA0LDQstC70LXQvdC40Y8sIFs+MF0gLSDRgtC+0YfQuijQsC/QuCkg0L3QsNC/0YDQsNCy0LvQtdC90LjRjy5cblx0Zm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KClcblx0XHRyb3V0ZWluZ0luTWFwKClcblx0fTtcbn0iXX0="}